================================================================================
WAVENET_OPTIMIZED_V2 FEATURE VALIDATION
================================================================================

Validating all 40 features for:
  ✓ Statistical quality (NaN, range, distribution)
  ✓ TA-Lib accuracy (where applicable)
  ✓ Stationarity and autocorrelation
  ✓ Correlation with price (sanity check)

📋 Features to validate: 38
✅ Loaded AAPL data: 500 rows
   Date range: 2023-10-31 to 2025-10-01

🔧 Generating features with wavenet_optimized_v2 config...
  Engineering features for 500 samples...
  → Returns (multi-horizon)
  → Volatility (Yang-Zhang, Parkinson, Garman-Klass, Rogers-Satchell, Hodges-Tompkins)
  → Microstructure features
  → Volume-weighted features
  → Momentum & oscillators
  → Trend indicators
  → Bollinger Bands
  → Price position indicators
  → Entropy & complexity
  → Regime indicators
  → Statistical properties (Skew, Kurtosis)
  → Risk-adjusted metrics
  → Cleaning features...
  ✅ Created 109 features
  🎯 Filtered to 38 selected features (from feature_list)
✅ Generated 38 features

================================================================================
FEATURE-BY-FEATURE VALIDATION
================================================================================

[1/38] 
============================================================
Validating: kurtosis_60
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.8137, 6.7045]
   Mean: 1.9909, Std: 2.2956
   Skewness: 1.48, Kurtosis: 0.20
   Stationarity: Non-stationary (p=0.8929)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[2/38] 
============================================================
Validating: macd_signal
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison:
   ⚠️  ERROR: No valid overlapping values

[3/38] 
============================================================
Validating: dist_from_ma50
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.0772, 0.0299]
   Mean: -0.0102, Std: 0.0268
   Skewness: -0.27, Kurtosis: -0.56
   Stationarity: Non-stationary (p=0.8652)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[4/38] 
============================================================
Validating: macd
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison:
   ⚠️  ERROR: No valid overlapping values

[5/38] 
============================================================
Validating: macd_hist
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison:
   ⚠️  ERROR: No valid overlapping values

[6/38] 
============================================================
Validating: dollar_volume_ma_ratio
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.4953, 2.6452]
   Mean: 0.9012, Std: 0.3048
   Skewness: 1.83, Kurtosis: 4.79
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[7/38] 
============================================================
Validating: bb_lower
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison:
   ⚠️  ERROR: No valid overlapping values

[8/38] 
============================================================
Validating: volume_zscore
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-1.3908, 3.4927]
   Mean: -0.2226, Std: 0.9207
   Skewness: 1.65, Kurtosis: 2.18
   Stationarity: Stationary (p=0.0005)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[9/38] 
============================================================
Validating: bb_position
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[10/38] 
============================================================
Validating: volatility_ht_60
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.2272, 0.6079]
   Mean: 0.3047, Std: 0.1526
   Skewness: 1.48, Kurtosis: 0.20
   Stationarity: Non-stationary (p=0.8935)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[11/38] 
============================================================
Validating: cci
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-266.0164, 303.9117]
   Mean: 28.7966, Std: 106.9296
   Skewness: -0.31, Kurtosis: -0.89
   Stationarity: Stationary (p=0.0009)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison:
   ✅ MATCH - Mean diff: 0.000%, Corr: 1.00000

[12/38] 
============================================================
Validating: dist_from_ma20
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.1861, 0.0880]
   Mean: 0.0069, Std: 0.0360
   Skewness: -0.95, Kurtosis: 1.81
   Stationarity: Stationary (p=0.0318)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[13/38] 
============================================================
Validating: relative_volume
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.3877, 1.2740]
   Mean: 0.6289, Std: 0.1548
   Skewness: 1.26, Kurtosis: 1.56
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[14/38] 
============================================================
Validating: volume_norm
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.4737, 2.5750]
   Mean: 0.8996, Std: 0.3268
   Skewness: 1.79, Kurtosis: 4.17
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[15/38] 
============================================================
Validating: sar
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [162.9101, 259.1799]
   Mean: 207.0268, Std: 24.2039
   Skewness: 0.02, Kurtosis: -1.05
   Stationarity: Non-stationary (p=0.1223)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison:
   ✅ MATCH - Mean diff: 0.000%, Corr: 1.00000

[16/38] 
============================================================
Validating: dist_from_ma10
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.1702, 0.0853]
   Mean: 0.0065, Std: 0.0304
   Skewness: -1.00, Kurtosis: 3.68
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[17/38] 
============================================================
Validating: serial_corr_1
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.6381, 0.5438]
   Mean: 0.0078, Std: 0.2261
   Skewness: -0.22, Kurtosis: -0.45
   Stationarity: Stationary (p=0.0025)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[18/38] 
============================================================
Validating: log_return_2d
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.1727, 0.0993]
   Mean: 0.0018, Std: 0.0251
   Skewness: -0.60, Kurtosis: 6.93
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[19/38] 
============================================================
Validating: skewness_20
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-2.4797, 2.0150]
   Mean: 0.2311, Std: 0.9988
   Skewness: -0.89, Kurtosis: 0.38
   Stationarity: Non-stationary (p=0.0570)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[20/38] 
============================================================
Validating: vwap_20
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [168.7280, 243.8844]
   Mean: 204.8397, Std: 19.1314
   Skewness: -0.20, Kurtosis: -1.29
   Stationarity: Non-stationary (p=0.8729)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[21/38] 
============================================================
Validating: bb_upper
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison:
   ⚠️  ERROR: No valid overlapping values

[22/38] 
============================================================
Validating: macd_divergence
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[23/38] 
============================================================
Validating: log_return_3d
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.2101, 0.1391]
   Mean: 0.0026, Std: 0.0320
   Skewness: -0.88, Kurtosis: 7.27
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[24/38] 
============================================================
Validating: log_return_5d
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.2581, 0.1590]
   Mean: 0.0044, Std: 0.0410
   Skewness: -0.72, Kurtosis: 4.84
   Stationarity: Stationary (p=0.0002)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[25/38] 
============================================================
Validating: rsi_7
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [83.3444, 92.7766]
   Mean: 84.5704, Std: 0.8990
   Skewness: 6.38, Kurtosis: 41.03
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison:
   ✅ MATCH - Mean diff: 0.000%, Corr: 1.00000

[26/38] 
============================================================
Validating: stoch_k_d_diff
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-5.6231, 1.3645]
   Mean: -5.4770, Std: 0.8258
   Skewness: 5.71, Kurtosis: 31.97
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[27/38] 
============================================================
Validating: hl_volatility_ratio
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.4262, 0.8835]
   Mean: 0.6773, Std: 0.1351
   Skewness: -0.49, Kurtosis: -1.10
   Stationarity: Non-stationary (p=0.2480)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[28/38] 
============================================================
Validating: ad_roc
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-1.1836, 2.1655]
   Mean: 0.1528, Std: 0.4919
   Skewness: 2.70, Kurtosis: 9.29
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[29/38] 
============================================================
Validating: relative_volatility
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[30/38] 
============================================================
Validating: serial_corr_5
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.6906, 0.6679]
   Mean: -0.1134, Std: 0.2485
   Skewness: 0.41, Kurtosis: -0.15
   Stationarity: Stationary (p=0.0008)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[31/38] 
============================================================
Validating: skewness_60
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.1230, 0.9454]
   Mean: 0.1049, Std: 0.4155
   Skewness: 1.48, Kurtosis: 0.20
   Stationarity: Non-stationary (p=0.9093)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[32/38] 
============================================================
Validating: bb_percent_b
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: nan, Kurtosis: nan
   Quality Score: 67% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[33/38] 
============================================================
Validating: variance_ratio
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0218, 0.5649]
   Mean: 0.1811, Std: 0.0958
   Skewness: 1.00, Kurtosis: 0.70
   Stationarity: Stationary (p=0.0162)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[34/38] 
============================================================
Validating: amihud_illiq
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [0.0000, 0.0000]
   Mean: 0.0000, Std: 0.0000
   Skewness: 2.05, Kurtosis: 5.34
   Stationarity: Non-stationary (p=0.1664)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[35/38] 
============================================================
Validating: log_return_10d
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.2606, 0.1711]
   Mean: 0.0091, Std: 0.0529
   Skewness: -0.46, Kurtosis: 1.49
   Stationarity: Stationary (p=0.0038)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[36/38] 
============================================================
Validating: risk_adj_momentum_20
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.4058, 0.5598]
   Mean: 0.0726, Std: 0.2076
   Skewness: 0.28, Kurtosis: -0.27
   Stationarity: Non-stationary (p=0.0615)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[37/38] 
============================================================
Validating: max_drawdown_20
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [-0.2299, -0.0097]
   Mean: -0.0520, Std: 0.0451
   Skewness: -2.20, Kurtosis: 5.76
   Stationarity: Stationary (p=0.0185)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison: N/A (custom feature)

[38/38] 
============================================================
Validating: adx_plus
============================================================

📊 Statistical Quality:
   Valid values: 100.0%
   Range: [53.0782, 55.6821]
   Mean: 53.6566, Std: 0.3573
   Skewness: 5.47, Kurtosis: 28.12
   Stationarity: Stationary (p=0.0000)
   Quality Score: 100% - ✅ PASS

📐 TA-Lib Comparison:
   ✅ MATCH - Mean diff: 0.000%, Corr: 1.00000

================================================================================
VALIDATION SUMMARY
================================================================================

               feature overall_pass quality_score pct_valid range_min range_max skewness kurtosis talib_status talib_match
           kurtosis_60            ✅          100%    100.0%    0.8137    6.7045     1.48     0.20          N/A         N/A
           macd_signal            ❌           67%    100.0%    0.0000    0.0000      nan      nan        ERROR           ❌
        dist_from_ma50            ✅          100%    100.0%   -0.0772    0.0299    -0.27    -0.56          N/A         N/A
                  macd            ❌           67%    100.0%    0.0000    0.0000      nan      nan        ERROR           ❌
             macd_hist            ❌           67%    100.0%    0.0000    0.0000      nan      nan        ERROR           ❌
dollar_volume_ma_ratio            ✅          100%    100.0%    0.4953    2.6452     1.83     4.79          N/A         N/A
              bb_lower            ❌           67%    100.0%    0.0000    0.0000      nan      nan        ERROR           ❌
         volume_zscore            ✅          100%    100.0%   -1.3908    3.4927     1.65     2.18          N/A         N/A
           bb_position            ✅           67%    100.0%    0.0000    0.0000      nan      nan          N/A         N/A
      volatility_ht_60            ✅          100%    100.0%    0.2272    0.6079     1.48     0.20          N/A         N/A
                   cci            ✅          100%    100.0% -266.0164  303.9117    -0.31    -0.89         PASS           ✅
        dist_from_ma20            ✅          100%    100.0%   -0.1861    0.0880    -0.95     1.81          N/A         N/A
       relative_volume            ✅          100%    100.0%    0.3877    1.2740     1.26     1.56          N/A         N/A
           volume_norm            ✅          100%    100.0%    0.4737    2.5750     1.79     4.17          N/A         N/A
                   sar            ✅          100%    100.0%  162.9101  259.1799     0.02    -1.05         PASS           ✅
        dist_from_ma10            ✅          100%    100.0%   -0.1702    0.0853    -1.00     3.68          N/A         N/A
         serial_corr_1            ✅          100%    100.0%   -0.6381    0.5438    -0.22    -0.45          N/A         N/A
         log_return_2d            ✅          100%    100.0%   -0.1727    0.0993    -0.60     6.93          N/A         N/A
           skewness_20            ✅          100%    100.0%   -2.4797    2.0150    -0.89     0.38          N/A         N/A
               vwap_20            ✅          100%    100.0%  168.7280  243.8844    -0.20    -1.29          N/A         N/A
              bb_upper            ❌           67%    100.0%    0.0000    0.0000      nan      nan        ERROR           ❌
       macd_divergence            ✅           67%    100.0%    0.0000    0.0000      nan      nan          N/A         N/A
         log_return_3d            ✅          100%    100.0%   -0.2101    0.1391    -0.88     7.27          N/A         N/A
         log_return_5d            ✅          100%    100.0%   -0.2581    0.1590    -0.72     4.84          N/A         N/A
                 rsi_7            ✅          100%    100.0%   83.3444   92.7766     6.38    41.03         PASS           ✅
        stoch_k_d_diff            ✅          100%    100.0%   -5.6231    1.3645     5.71    31.97          N/A         N/A
   hl_volatility_ratio            ✅          100%    100.0%    0.4262    0.8835    -0.49    -1.10          N/A         N/A
                ad_roc            ✅          100%    100.0%   -1.1836    2.1655     2.70     9.29          N/A         N/A
   relative_volatility            ✅           67%    100.0%    0.0000    0.0000      nan      nan          N/A         N/A
         serial_corr_5            ✅          100%    100.0%   -0.6906    0.6679     0.41    -0.15          N/A         N/A
           skewness_60            ✅          100%    100.0%   -0.1230    0.9454     1.48     0.20          N/A         N/A
          bb_percent_b            ✅           67%    100.0%    0.0000    0.0000      nan      nan          N/A         N/A
        variance_ratio            ✅          100%    100.0%    0.0218    0.5649     1.00     0.70          N/A         N/A
          amihud_illiq            ✅          100%    100.0%    0.0000    0.0000     2.05     5.34          N/A         N/A
        log_return_10d            ✅          100%    100.0%   -0.2606    0.1711    -0.46     1.49          N/A         N/A
  risk_adj_momentum_20            ✅          100%    100.0%   -0.4058    0.5598     0.28    -0.27          N/A         N/A
       max_drawdown_20            ✅          100%    100.0%   -0.2299   -0.0097    -2.20     5.76          N/A         N/A
              adx_plus            ✅          100%    100.0%   53.0782   55.6821     5.47    28.12         PASS           ✅

✅ Detailed report saved to: artifacts/wavenet_v2_feature_validation.csv

================================================================================
FINAL RESULTS
================================================================================

📊 Overall:
   Total features validated: 38
   Passed: 33 (86.8%)
   Failed: 5 (13.2%)

📐 TA-Lib Comparison:
   Features with TA-Lib equivalent: 4
   Matched TA-Lib: 4 (100.0% if n_talib_checked else 0)

⚠️  FAILED FEATURES:
   - macd_signal
   - macd
   - macd_hist
   - bb_lower
   - bb_upper

⚠️  Some features failed validation - review artifacts/wavenet_v2_feature_validation.csv
